import{a as V,b as $,c as j,f as z}from"./chunk-ZEAN3TXC.js";import{a as R}from"./chunk-CJFVJQ52.js";import{a as S,c as O}from"./chunk-LSV3JFNW.js";import{a as k,c as I,d as P,e as y,f as L,g as w}from"./chunk-RFAVFXGH.js";import{s as B}from"./chunk-OVFGTPCS.js";import"./chunk-2T25CCUB.js";import{B as F,q as A,s as D,t as N,w as E}from"./chunk-PF7N3J2U.js";import{Eb as C,Gb as m,Hb as h,Ub as a,Vb as p,Wa as l,bc as d,d as f,ka as c,kb as M,pb as b,qa as g,ra as _,sc as v,vc as x,xb as T,yb as o,zb as n}from"./chunk-IUB4YEKB.js";var u=j.getSelectors(z),H=u.selectAll,U=u.selectEntities,W=u.selectTotal;function J(s,t){if(s&1){let e=C();o(0,"a",5)(1,"span",6),a(2),n(),o(3,"button",7),m("click",function(){let r=g(e).$implicit,G=h();return _(G.onRemove(r.id))}),o(4,"mat-icon"),a(5,"delete"),n()()()}if(s&2){let e=t.$implicit;l(2),p(e.name)}}var q=class s{store=c(B);dialog=c(E);route=c(S);router=c(O);allTopics=this.store.selectSignal(H);lists=this.store.selectSignal(R);listId=Number(this.route.snapshot.paramMap.get("listId"))||void 0;currentList=d(()=>this.lists().find(t=>t.id===this.listId));topics=d(()=>{let t=this.currentList();if(!t)return[];let e=new Set(t.topicIds);return this.allTopics().filter(i=>e.has(i.id))});onAdd(){return f(this,null,function*(){let{AddNameDialogComponent:t}=yield import("./chunk-25J3M6Q5.js");this.dialog.open(t,{data:{title:"New Topic",label:"Topic name",placeholder:"e.g., Health"}}).afterClosed().subscribe(i=>{i&&this.store.dispatch(V({name:i}))})})}onRemove(t){this.store.dispatch($({id:t}))}back(){this.router.navigate(["/lists"])}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=M({type:s,selectors:[["app-topics"]],decls:12,vars:2,consts:[[1,"section-bar"],["mat-icon-button","","aria-label","Back",3,"click"],[1,"section-title"],["mat-list-item","",4,"ngFor","ngForOf"],["mat-fab","","color","primary","aria-label","Add Topic",1,"fab",3,"click"],["mat-list-item",""],["matListItemTitle",""],["mat-icon-button","","color","warn","aria-label","Delete",3,"click"]],template:function(e,i){if(e&1&&(o(0,"section")(1,"div",0)(2,"button",1),m("click",function(){return i.back()}),o(3,"mat-icon"),a(4,"arrow_back"),n()(),o(5,"h2",2),a(6),n()(),o(7,"mat-nav-list"),b(8,J,6,1,"a",3),n(),o(9,"button",4),m("click",function(){return i.onAdd()}),o(10,"mat-icon"),a(11,"add"),n()()()),e&2){let r;l(6),p(((r=i.currentList())==null?null:r.name)||"Topics"),l(2),T("ngForOf",i.topics())}},dependencies:[x,v,y,P,I,k,w,L,N,A,D,F],styles:["ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.25rem 0}input[_ngcontent-%COMP%]{padding:.4rem .6rem}input[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{position:relative;min-height:60vh}input[_ngcontent-%COMP%]   .section-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}input[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{margin:0;color:var(--md-sys-color-on-surface, #4e342e)}input[_ngcontent-%COMP%]   .fab[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:100}button[_ngcontent-%COMP%]{padding:.4rem .6rem}"]})};export{q as TopicsComponent};
