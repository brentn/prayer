@use '@angular/material' as mat;

// Dark brown theme using Material Design 3 theming API with CSS variables
$darkTheme: mat.define-theme((color: (theme-type: dark,
                use-system-variables: true,
            ),
        ));

$lightTheme: mat.define-theme((color: (theme-type: light,
                use-system-variables: true,
            ),
        ));

@include mat.core();
@include mat.all-component-themes($darkTheme);

// Apply light theme when body has light-theme class
.light-theme {
    @include mat.all-component-themes($lightTheme);
}

:root {
    /* App brown shades */
    --app-brown-dark: #23140f;
    --app-brown-medium: #6d4c41;
    --app-accent-color: #9caf88;

    /* Very dark brown app background and near-white text */
    --md-sys-color-surface: var(--app-brown-dark);
    /* app background */
    --md-sys-color-on-surface: #f7f3ef;
    /* default text */
    /* Primary used for cards and primary buttons (regular/lighter brown) */
    --md-sys-color-primary: var(--app-brown-medium);
    /* regular brown */
    --md-sys-color-on-primary: #fffaf6;
    /* nearly white text */

    /* Slightly lighter brown container for chips/badges if needed */
    --md-sys-color-primary-container: var(--app-accent-color);
    --md-sys-color-on-primary-container: var(--app-brown-dark);

    /* Optional tertiary */
    --md-sys-color-tertiary: var(--app-brown-medium);
    --md-sys-color-on-tertiary: var(--app-brown-dark);

    /* App-specific: a darker primary for headers/bars (between surface and primary) */
    --app-color-primary-darker: var(--app-brown-dark);

    /* Prayer session specific colors */
    --prayer-bg-gradient-start: #3b2a24;
    --prayer-bg-gradient-middle: #2f221d;
    --prayer-bg-gradient-end: #251b17;
    --prayer-text-primary: rgba(255, 245, 235, 0.95);
    --prayer-text-secondary: rgba(255, 255, 255, 0.85);
    --prayer-text-muted: rgba(255, 255, 255, 0.75);
    --prayer-card-bg: rgba(255, 255, 255, 0.07);
    --prayer-card-border: rgba(255, 255, 255, 0.12);
    --prayer-card-shadow: rgba(26, 17, 14, 0.45);
    --prayer-overlay-bg: rgba(0, 0, 0, 0.22);
    --prayer-overlay-border: rgba(255, 255, 255, 0.08);
    --prayer-footer-bg: rgba(20, 15, 12, 0.85);
    --prayer-footer-border: rgba(255, 255, 255, 0.08);
    --prayer-session-list-bg: rgba(0, 0, 0, 0.18);
    --prayer-session-list-border: rgba(255, 255, 255, 0.1);
    --prayer-session-list-separator: rgba(255, 255, 255, 0.08);

    /* Slider colors for dark theme */
    --slider-active-track: rgba(255, 255, 255, 0.95);
    --slider-inactive-track: rgba(255, 255, 255, 0.32);
    --slider-handle: #9caf88;
}

.light-theme {
    /* Light ice-blue theme */
    --app-brown-dark: #e3f2fd;
    /* Very light blue */
    --app-brown-medium: #42a5f5;
    /* Ice blue */
    --app-accent-color: #1e88e5;
    /* Deeper blue */

    /* Light surface and dark text */
    --md-sys-color-surface: #fafafa;
    /* Near white */
    --md-sys-color-on-surface: #0d47a1;
    /* Dark blue text */

    /* Primary for cards and buttons */
    --md-sys-color-primary: var(--app-brown-medium);
    --md-sys-color-on-primary: #ffffff;
    /* White text */

    /* Primary container */
    --md-sys-color-primary-container: var(--app-accent-color);
    --md-sys-color-on-primary-container: #ffffff;

    /* Tertiary */
    --md-sys-color-tertiary: var(--app-brown-medium);
    --md-sys-color-on-tertiary: #0d47a1;

    /* App-specific */
    --app-color-primary-darker: var(--app-brown-medium);

    /* Prayer session specific colors for light theme */
    --prayer-bg-gradient-start: #e1f5fe;
    /* Very light blue */
    --prayer-bg-gradient-middle: #b3e5fc;
    /* Light blue */
    --prayer-bg-gradient-end: #81d4fa;
    /* Medium light blue */
    --prayer-text-primary: rgba(13, 71, 161, 0.95);
    /* Dark blue text */
    --prayer-text-secondary: rgba(13, 71, 161, 0.85);
    --prayer-text-muted: rgba(13, 71, 161, 0.75);
    --prayer-card-bg: rgba(255, 255, 255, 0.9);
    /* White cards */
    --prayer-card-border: rgba(66, 165, 245, 0.3);
    /* Blue border */
    --prayer-card-shadow: rgba(66, 165, 245, 0.2);
    /* Blue shadow */
    --prayer-overlay-bg: rgba(255, 255, 255, 0.8);
    --prayer-overlay-border: rgba(66, 165, 245, 0.2);
    --prayer-footer-bg: rgba(255, 255, 255, 0.95);
    --prayer-footer-border: rgba(66, 165, 245, 0.3);
    --prayer-session-list-bg: rgba(255, 255, 255, 0.7);
    --prayer-session-list-border: rgba(66, 165, 245, 0.3);
    --prayer-session-list-separator: rgba(66, 165, 245, 0.2);

    /* Slider colors for light theme */
    --slider-active-track: rgba(66, 165, 245, 0.9);
    --slider-inactive-track: rgba(66, 165, 245, 0.4);
    --slider-handle: #1976d2;
}

html,
body {
    height: 100%;
}

body {
    margin: 0;
    background: var(--md-sys-color-surface);
    color: var(--md-sys-color-on-surface);
    font-family: "Roboto Flex", Roboto, "Helvetica Neue", Arial, sans-serif;
    font-size: 1.25rem;
}

/* Solid background for Material menus (fix transparent look on dark theme) */
/* The menu surface classes are on the same element as mat-mdc-menu-panel */
.mat-mdc-menu-panel,
.mat-mdc-menu-panel.mdc-menu-surface {
    background-color: var(--md-sys-color-primary) !important;
    color: var(--md-sys-color-on-primary) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3), 0 2px 6px rgba(62, 39, 35, 0.4) !important;
}

.mat-mdc-menu-item .mat-mdc-menu-item-text,
.mat-mdc-menu-item .mat-icon {
    color: var(--md-sys-color-on-primary) !important;
}

/* Light theme menu styles */
.light-theme .mat-mdc-menu-panel,
.light-theme .mat-mdc-menu-panel.mdc-menu-surface {
    background-color: var(--md-sys-color-surface) !important;
    color: var(--md-sys-color-on-surface) !important;
    border: 1px solid rgba(0, 0, 0, 0.2) !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1), 0 2px 6px rgba(66, 165, 245, 0.2) !important;
}

.light-theme .mat-mdc-menu-item .mat-mdc-menu-item-text,
.light-theme .mat-mdc-menu-item .mat-icon {
    color: var(--md-sys-color-on-surface) !important;
}