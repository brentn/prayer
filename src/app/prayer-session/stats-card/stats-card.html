<div class="stats-card">
    <div class="scrollable-content">
        <div class="header">
            <mat-icon class="celebration-icon">celebration</mat-icon>
            <h3>Session Complete!</h3>
        </div>

        <div class="stats-section">
            <h4><mat-icon>today</mat-icon> This Session</h4>
            <div class="stat">
                <span class="label"><mat-icon>favorite</mat-icon> Requests Prayed For</span>
                <span class="value">{{ prayerCount }} / {{totalItems}}</span>
            </div>
            <div class="stat">
                <span class="label"><mat-icon>schedule</mat-icon> Duration</span>
                <span class="value">{{ formatDuration(sessionDuration) }}</span>
            </div>
            @if (prayerCount > 0) {
                <div class="stat">
                    <span class="label"><mat-icon>speed</mat-icon> Avg time per Prayer</span>
                    <span class="value">{{ formatDuration(averageTimePerPrayer) }}</span>
                </div>
            }
        </div>

        <div class="stats-section">
            <h4><mat-icon>insights</mat-icon> Lifetime Journey</h4>
            <div class="stat">
                <span class="label"><mat-icon>schedule</mat-icon> Total Time</span>
                <span class="value">{{ formatDuration(totalTimePrayed) }}</span>
            </div>
            <div class="stat">
                <span class="label"><mat-icon>list</mat-icon> Total Prayers</span>
                <span class="value">{{ totalRequestsPrayed }}</span>
            </div>
            <div class="stat">
                <span class="label"><mat-icon>check</mat-icon> Total Completed Prayers</span>
                <span class="value">{{ totalRequestsCompleted }}</span>
            </div>
            <div class="stat">
                <span class="label"><mat-icon>check_circle</mat-icon> Total Answers</span>
                <span class="value">{{ totalRequestsAnswered }}</span>
            </div>
            <div class="stat">
                <span class="label"><mat-icon>calendar_today</mat-icon> Number of Sessions</span>
                <span class="value">{{ totalSessions }}</span>
            </div>
            @if (totalSessions > 1) {
                <div class="stat">
                    <span class="label"><mat-icon>trending_up</mat-icon> Sessions/Week</span>
                    <span class="value">{{ sessionsPerWeek.toFixed(1) }}</span>
                </div>
                <div class="stat">
                    <span class="label"><mat-icon>timer</mat-icon> Avg Session Length</span>
                    <span class="value">{{ formatDuration(averageSessionLength) }}</span>
                </div>
            }
            @if (prayerRate > 0) {
                <div class="stat">
                    <span class="label"><mat-icon>bolt</mat-icon> Avg Speed</span>
                    <span class="value">{{ prayerRate }} req/hr</span>
                </div>
            }
            @if ((totalRequestsCompleted+totalRequestsAnswered); as completedRequests;) {
                <div class="stat">
                    <span class="label"><mat-icon>percent</mat-icon> Notable Answers</span>
                    <span class="value">{{ ((totalRequestsAnswered / completedRequests) * 100).toFixed(1) }}%</span>
                </div>
            }
        </div>
    </div>
</div>