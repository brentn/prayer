import{a as I}from"./chunk-CJFVJQ52.js";import{c as y,e as B,f as H}from"./chunk-LSV3JFNW.js";import{e as D,f as O,g as S}from"./chunk-RFAVFXGH.js";import{s as A}from"./chunk-OVFGTPCS.js";import"./chunk-2T25CCUB.js";import{B as F,s as P,t as k,w as E}from"./chunk-PF7N3J2U.js";import{$a as v,Eb as M,Gb as c,Hb as u,Ub as p,Vb as h,Wa as d,d as _,ka as l,kb as w,mb as x,pb as b,qa as f,ra as g,sc as L,vc as R,xb as C,yb as o,zb as a}from"./chunk-IUB4YEKB.js";var m=class n{swipeRight=new v;startX=0;startY=0;tracking=!1;onDown(e){this.tracking=!0,this.startX=e.clientX,this.startY=e.clientY}onUp(e){if(!this.tracking)return;let t=e.clientX-this.startX,i=Math.abs(e.clientY-this.startY);this.tracking=!1,t>80&&i<40&&this.swipeRight.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275dir=x({type:n,selectors:[["","appSwipeRight",""]],hostBindings:function(t,i){t&1&&c("pointerdown",function(r){return i.onDown(r)})("pointerup",function(r){return i.onUp(r)})},outputs:{swipeRight:"swipeRight"}})};function V(n,e){if(n&1){let t=M();o(0,"div",4),c("swipeRight",function(){let s=f(t).$implicit,r=u();return g(r.onRemove(s.id))})("click",function(){let s=f(t).$implicit,r=u();return g(r.openList(s.id))}),o(1,"div",5),p(2),a(),o(3,"div",6),p(4),a()()}if(n&2){let t=e.$implicit;d(2),h(t.name),d(2),h(t.topicIds.length||0)}}var T=class n{store=l(A);dialog=l(E);router=l(y);lists=this.store.selectSignal(I);onAdd(){return _(this,null,function*(){let{AddNameDialogComponent:e}=yield import("./chunk-25J3M6Q5.js");this.dialog.open(e,{data:{title:"New List",label:"List name",placeholder:"e.g., Family"}}).afterClosed().subscribe(i=>{i&&this.store.dispatch(B({name:i}))})})}onRemove(e){import("./chunk-R5UK4Z6C.js").then(t=>{this.dialog.open(t.ConfirmDialogComponent,{data:{title:"Delete list?",message:"Are you sure you want to delete this list?"}}).afterClosed().subscribe(i=>{i&&this.store.dispatch(H({id:e}))})})}openList(e){this.router.navigate(["/topics",e])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=w({type:n,selectors:[["app-lists"]],decls:8,vars:1,consts:[[1,"section-title"],[1,"cards"],["class","card","appSwipeRight","","role","button","tabindex","0",3,"swipeRight","click",4,"ngFor","ngForOf"],["mat-fab","","color","primary","aria-label","Add List",1,"fab",3,"click"],["appSwipeRight","","role","button","tabindex","0",1,"card",3,"swipeRight","click"],[1,"card-title"],["title","Topics",1,"badge"]],template:function(t,i){t&1&&(o(0,"section")(1,"h2",0),p(2,"Lists"),a(),o(3,"div",1),b(4,V,5,2,"div",2),a(),o(5,"button",3),c("click",function(){return i.onAdd()}),o(6,"mat-icon"),p(7,"add"),a()()()),t&2&&(d(4),C("ngForOf",i.lists()))},dependencies:[R,L,D,S,O,k,P,F,m],styles:["section[_ngcontent-%COMP%]{position:relative;min-height:60vh}.section-title[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--md-sys-color-on-surface, #4e342e)}.fab[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:100}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 600px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 960px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.card[_ngcontent-%COMP%]{border:1px solid rgba(78,52,46,.25);border-radius:12px;padding:12px 14px;display:flex;align-items:center;justify-content:space-between;background:#fff8f0;cursor:pointer;transition:box-shadow .2s ease,transform .05s ease}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{box-shadow:0 1px 4px #3e272333}.card[_ngcontent-%COMP%]:active{transform:scale(.995)}.card-title[_ngcontent-%COMP%]{font-weight:500;color:#3e2723}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:999px;background:#6d4c41;color:#fff;font-size:12px;line-height:18px}"]})};export{T as ListsComponent};
