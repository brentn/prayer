import{a as F}from"./chunk-DUSSV2SI.js";import{e as O,f as P,g as S,h as N}from"./chunk-BVXUFB44.js";import{g as L}from"./chunk-7773B2KH.js";import{n as I,t as T,v as x}from"./chunk-ITTDOQMT.js";import"./chunk-TEUDUNE2.js";import{B as E,s as D,t as k,w as A}from"./chunk-CYCT6KCH.js";import{e as w,i as y}from"./chunk-6TCLGBUS.js";import{Ab as o,Fb as M,Jb as g,Kb as u,Ub as h,Wa as c,Xb as r,Yb as _,d as p,ka as l,kb as b,qa as m,qb as C,ra as f,yb as v,zb as n}from"./chunk-NBPTNBXQ.js";function z(s,t){if(s&1){let e=M();n(0,"div",5)(1,"div",6)(2,"mat-icon"),r(3,"delete"),o()(),n(4,"div",7,0),g("swipeLeft",function(){let a=m(e).$implicit,d=h(5),j=u();return f(j.onSwipeLeft(a.id,d))})("click",function(){let a=m(e).$implicit,d=u();return f(d.openList(a.id))}),n(6,"div",8),r(7),o(),n(8,"div",9),r(9),o()()()}if(s&2){let e=t.$implicit;c(7),_(e.name),c(2),_(e.topicIds.length||0)}}var V=class s{store=l(I);dialog=l(A);router=l(L);lists=this.store.selectSignal(N);onAdd(){return p(this,null,function*(){let{AddNameDialogComponent:t}=yield import("./chunk-Y5TNKTH6.js");this.dialog.open(t,{data:{title:"New List",label:"List name",placeholder:"e.g., Family"}}).afterClosed().subscribe(i=>{i&&this.store.dispatch(T({name:i}))})})}onRemove(t){import("./chunk-C6RSTMNG.js").then(e=>{this.dialog.open(e.ConfirmDialogComponent,{data:{title:"Delete list?",message:"Are you sure you want to delete this list?"}}).afterClosed().subscribe(i=>{i&&this.store.dispatch(x({id:t}))})})}onSwipeLeft(t,e){import("./chunk-C6RSTMNG.js").then(i=>{this.dialog.open(i.ConfirmDialogComponent,{data:{title:"Delete list?",message:"Are you sure you want to delete this list?"}}).afterClosed().subscribe(a=>p(this,null,function*(){a?(yield e.flyOutAnd(),this.store.dispatch(x({id:t}))):e.reset()}))})}openList(t){this.router.navigate(["/list",t])}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=b({type:s,selectors:[["ng-component"]],decls:9,vars:1,consts:[["swipe","appSwipeLeft"],[1,"section-title"],[1,"cards"],["class","swipe-wrap",4,"ngFor","ngForOf"],["mat-fab","","color","primary","aria-label","Add List",1,"fab","mat-mdc-extended-fab",3,"click"],[1,"swipe-wrap"],["aria-hidden","true",1,"reveal","delete"],["appSwipeLeft","","role","button","tabindex","0",1,"card",3,"swipeLeft","click"],[1,"card-title"],["title","Topics",1,"badge"]],template:function(e,i){e&1&&(n(0,"section")(1,"h3",1),r(2,"Lists"),o(),n(3,"div",2),C(4,z,10,2,"div",3),o(),n(5,"button",4),g("click",function(){return i.onAdd()}),n(6,"mat-icon"),r(7,"add"),o(),r(8," Add List "),o()()),e&2&&(c(4),v("ngForOf",i.lists()))},dependencies:[y,w,O,S,P,k,D,E,F],styles:["section[_ngcontent-%COMP%]{position:relative;min-height:60vh}.section-title[_ngcontent-%COMP%]{margin:0 0 .5rem 2rem;color:var(--md-sys-color-on-surface, #4e342e)}.fab[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:100}.cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media (min-width: 600px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 960px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}.card[_ngcontent-%COMP%]{border:1px solid rgba(78,52,46,.25);border-radius:12px;padding:12px 14px;display:flex;align-items:center;justify-content:space-between;background:#fff8f0;cursor:pointer;transition:box-shadow .2s ease,transform .05s ease;touch-action:pan-y;position:relative;z-index:1}.swipe-wrap[_ngcontent-%COMP%]{position:relative}.reveal[_ngcontent-%COMP%]{position:absolute;inset:0 0 0 auto;width:96px;display:flex;align-items:center;justify-content:center;border-radius:0 12px 12px 0;pointer-events:none}.reveal.delete[_ngcontent-%COMP%]{color:#d32f2f;background-color:#d32f2f22}.card[_ngcontent-%COMP%]:focus, .card[_ngcontent-%COMP%]:hover{box-shadow:0 1px 4px #3e272333}.card[_ngcontent-%COMP%]:active{transform:scale(.995)}.card-title[_ngcontent-%COMP%]{font-weight:500;color:#3e2723}.badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:999px;background:#6d4c41;color:#fff;font-size:12px;line-height:18px}"]})};export{V as MainComponent};
