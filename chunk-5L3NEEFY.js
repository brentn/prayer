import{a as Y,b as z,c as G,d as H}from"./chunk-UDYWFERJ.js";import{a as J,b as Q,c as X,d as Z,e as _}from"./chunk-GJYSUC5I.js";import{b as N,c as C,o as E,p as v,r as y,s as w}from"./chunk-SHVGM3UO.js";import{Dc as V,a as B,b as W}from"./chunk-H2AXNUGV.js";function oe(){return{ids:[],entities:{}}}function ce(){function t(s={}){return Object.assign(oe(),s)}return{getInitialState:t}}function ue(){function t(s){let a=m=>m.ids,p=m=>m.entities,h=E(a,p,(m,q)=>m.map(R=>q[R])),g=E(a,m=>m.length);return s?{selectIds:E(s,a),selectEntities:E(s,p),selectAll:E(s,h),selectTotal:E(s,g)}:{selectIds:a,selectEntities:p,selectAll:h,selectTotal:g}}return{getSelectors:t}}var o=(function(t){return t[t.EntitiesOnly=0]="EntitiesOnly",t[t.Both=1]="Both",t[t.None=2]="None",t})(o||{});function l(t){return function(a,p){let h={ids:[...p.ids],entities:B({},p.entities)},g=t(a,h);return g===o.Both?Object.assign({},p,h):g===o.EntitiesOnly?W(B({},p),{entities:h.entities}):p}}function O(t,s){let a=s(t);return V()&&a===void 0&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",t,"The `selectId` implementation:",s.toString()),a}function $(t){function s(u,i){let n=O(u,t);return n in i.entities?o.None:(i.ids.push(n),i.entities[n]=u,o.Both)}function a(u,i){let n=!1;for(let e of u)n=s(e,i)!==o.None||n;return n?o.Both:o.None}function p(u,i){return i.ids=[],i.entities={},a(u,i),o.Both}function h(u,i){let n=O(u,t);return n in i.entities?(i.entities[n]=u,o.EntitiesOnly):(i.ids.push(n),i.entities[n]=u,o.Both)}function g(u,i){let n=u.map(e=>h(e,i));switch(!0){case n.some(e=>e===o.Both):return o.Both;case n.some(e=>e===o.EntitiesOnly):return o.EntitiesOnly;default:return o.None}}function m(u,i){return q([u],i)}function q(u,i){let e=(u instanceof Array?u:i.ids.filter(r=>u(i.entities[r]))).filter(r=>r in i.entities).map(r=>delete i.entities[r]).length>0;return e&&(i.ids=i.ids.filter(r=>r in i.entities)),e?o.Both:o.None}function R(u){return Object.assign({},u,{ids:[],entities:{}})}function j(u,i,n){let e=n.entities[i.id],r=Object.assign({},e,i.changes),c=O(r,t),d=c!==i.id;return d&&(u[i.id]=c,delete n.entities[i.id]),n.entities[c]=r,d}function F(u,i){return T([u],i)}function T(u,i){let n={};return u=u.filter(r=>r.id in i.entities),u.length>0?u.filter(c=>j(n,c,i)).length>0?(i.ids=i.ids.map(c=>n[c]||c),o.Both):o.EntitiesOnly:o.None}function I(u,i){let e=i.ids.reduce((r,c)=>{let d=u(i.entities[c]);return d!==i.entities[c]&&r.push({id:c,changes:d}),r},[]).filter(({id:r})=>r in i.entities);return T(e,i)}function k({map:u,id:i},n){let e=n.entities[i];if(!e)return o.None;let r=u(e);return F({id:i,changes:r},n)}function D(u,i){return K([u],i)}function K(u,i){let n=[],e=[];for(let d of u){let f=O(d,t);f in i.entities?e.push({id:f,changes:d}):n.push(d)}let r=T(e,i),c=a(n,i);switch(!0){case(c===o.None&&r===o.None):return o.None;case(c===o.Both||r===o.Both):return o.Both;default:return o.EntitiesOnly}}return{removeAll:R,addOne:l(s),addMany:l(a),setAll:l(p),setOne:l(h),setMany:l(g),updateOne:l(F),updateMany:l(T),upsertOne:l(D),upsertMany:l(K),removeOne:l(m),removeMany:l(q),map:l(I),mapOne:l(k)}}function ae(t,s){let{removeOne:a,removeMany:p,removeAll:h}=$(t);function g(n,e){return m([n],e)}function m(n,e){let r=n.filter(c=>!(O(c,t)in e.entities));return r.length===0?o.None:(i(r,e),o.Both)}function q(n,e){return e.entities={},e.ids=[],m(n,e),o.Both}function R(n,e){let r=O(n,t);return r in e.entities?(e.ids=e.ids.filter(c=>c!==r),i([n],e),o.Both):g(n,e)}function j(n,e){let r=n.map(c=>R(c,e));switch(!0){case r.some(c=>c===o.Both):return o.Both;case r.some(c=>c===o.EntitiesOnly):return o.EntitiesOnly;default:return o.None}}function F(n,e){return I([n],e)}function T(n,e,r){if(!(e.id in r.entities))return!1;let c=r.entities[e.id],d=Object.assign({},c,e.changes),f=O(d,t);return delete r.entities[e.id],n.push(d),f!==e.id}function I(n,e){let r=[],c=n.filter(d=>T(r,d,e)).length>0;if(r.length===0)return o.None;{let d=e.ids,f=[];return e.ids=e.ids.filter((M,A)=>M in e.entities?!0:(f.push(A),!1)),i(r,e),!c&&f.every(M=>e.ids[M]===d[M])?o.EntitiesOnly:o.Both}}function k(n,e){let r=e.ids.reduce((c,d)=>{let f=n(e.entities[d]);return f!==e.entities[d]&&c.push({id:d,changes:f}),c},[]);return I(r,e)}function D({map:n,id:e},r){let c=r.entities[e];if(!c)return o.None;let d=n(c);return F({id:e,changes:d},r)}function K(n,e){return u([n],e)}function u(n,e){let r=[],c=[];for(let M of n){let A=O(M,t);A in e.entities?c.push({id:A,changes:M}):r.push(M)}let d=I(c,e),f=m(r,e);switch(!0){case(f===o.None&&d===o.None):return o.None;case(f===o.Both||d===o.Both):return o.Both;default:return o.EntitiesOnly}}function i(n,e){n.sort(s);let r=[],c=0,d=0;for(;c<n.length&&d<e.ids.length;){let f=n[c],M=O(f,t),A=e.ids[d],se=e.entities[A];s(f,se)<=0?(r.push(M),c++):(r.push(A),d++)}c<n.length?e.ids=r.concat(n.slice(c).map(t)):e.ids=r.concat(e.ids.slice(d)),n.forEach((f,M)=>{e.entities[t(f)]=f})}return{removeOne:a,removeMany:p,removeAll:h,addOne:l(g),updateOne:l(F),upsertOne:l(K),setAll:l(q),setOne:l(R),setMany:l(j),addMany:l(m),updateMany:l(I),upsertMany:l(u),map:l(k),mapOne:l(D)}}function L(t={}){let{selectId:s,sortComparer:a}={selectId:t.selectId??(m=>m.id),sortComparer:t.sortComparer??!1},p=ce(),h=ue(),g=a?ae(s,a):$(s);return B(B(B({selectId:s,sortComparer:a},p),h),g)}var de="lists",b=L(),le=b.getInitialState();function pe(t){let s=t.ids;return s.length?Math.max(...s)+1:1}var fe=w(le,y(Y,(t,{name:s})=>{let a=pe(t);return b.addOne({id:a,name:s,topicIds:[]},t)}),y(z,(t,{id:s,changes:a})=>b.updateOne({id:s,changes:a},t)),y(G,(t,{id:s})=>b.removeOne(s,t)),y(H,t=>b.removeAll(t))),ye=v({name:de,reducer:fe}),{name:Fe,reducer:Ce,selectListsState:P}=ye,{selectAll:Ke,selectEntities:je,selectIds:ke,selectTotal:De}=b.getSelectors();var U=b.getSelectors(P),Ye=U.selectAll,ze=U.selectEntities,Ge=U.selectTotal;var ee=N("[Requests] Add",C()),te=N("[Requests] Add With Id",C()),ne=N("[Requests] Update",C()),ie=N("[Requests] Remove",C()),re=N("[Requests] Clear All");var he="requests",x=L(),ge=x.getInitialState();function Me(t){let s=t.ids;return s.length?Math.max(...s)+1:1}var Oe=w(ge,y(ee,(t,{description:s})=>{let a=Me(t),p=new Date().toISOString();return x.addOne({id:a,description:s,createdDate:p,answeredDate:null,prayerCount:0,priority:1},t)}),y(te,(t,{id:s,description:a})=>{let p=new Date().toISOString();return x.addOne({id:s,description:a,createdDate:p,answeredDate:null,prayerCount:0,priority:1},t)}),y(ne,(t,{id:s,changes:a})=>x.updateOne({id:s,changes:a},t)),y(ie,(t,{id:s})=>x.removeOne(s,t)),y(re,t=>x.removeAll(t))),be=v({name:he,reducer:Oe}),{name:_e,reducer:$e,selectRequestsState:Pe}=be,{selectAll:et,selectEntities:tt,selectIds:nt,selectTotal:it}=x.getSelectors();var Ae="topics",S=L(),Ee=S.getInitialState();function xe(t){let s=t.ids;return s.length?Math.max(...s)+1:1}var Se=w(Ee,y(J,(t,{name:s})=>{let a=xe(t);return S.addOne({id:a,name:s,requestIds:[]},t)}),y(Q,(t,{id:s,name:a})=>S.addOne({id:s,name:a,requestIds:[]},t)),y(X,(t,{id:s,changes:a})=>S.updateOne({id:s,changes:a},t)),y(Z,(t,{id:s})=>S.removeOne(s,t)),y(_,t=>S.removeAll(t))),qe=v({name:Ae,reducer:Se}),{name:at,reducer:dt,selectTopicsState:lt}=qe,{selectAll:pt,selectEntities:ft,selectIds:yt,selectTotal:mt}=S.getSelectors();export{le as a,Ce as b,Ye as c,te as d,ne as e,ie as f,x as g,ge as h,$e as i,Pe as j,S as k,Ee as l,dt as m,lt as n};
